<ContentPage
    x:Class="ChessMultitool.ChessGame"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Chess">

    <Grid Padding="0" RowSpacing="20" RowDefinitions="100,Auto,*">

        <!-- ROW 0: Spacer -->
        <Grid Grid.Row="0" />

        <!-- ROW 1: Plateau -->
        <Grid Grid.Row="1" VerticalOptions="Start" HorizontalOptions="Center">
            <Grid x:Name="BoardGrid"
                  HorizontalOptions="FillAndExpand">
                <Image Source="{DynamicResource BoardImageSource}" Aspect="AspectFill" InputTransparent="True" ZIndex="0" />
                <Grid x:Name="HighlightGrid" RowSpacing="0" ColumnSpacing="0" BackgroundColor="Transparent" ZIndex="1" />
                <Grid x:Name="PieceGrid" RowSpacing="0" ColumnSpacing="0" BackgroundColor="Transparent" ZIndex="2" />
                <ContentView x:Name="MenuContainer" BackgroundColor="Transparent" ZIndex="3" />
            </Grid>
        </Grid>

        <!-- ROW 2: Historique SAN -->
        <ScrollView Grid.Row="2" x:Name="MovesScroll" Orientation="Vertical"
                    VerticalOptions="FillAndExpand" HorizontalOptions="Center"
                    Padding="12,8,12,0">
            <Label x:Name="MovesBlock"
                   WidthRequest="{Binding Source={x:Reference BoardGrid}, Path=Width}"
                   FontSize="16" LineBreakMode="WordWrap"
                   HorizontalTextAlignment="Start"
                   TextColor="{DynamicResource GlobalTextColor}" />
        </ScrollView>
    </Grid>
</ContentPage>